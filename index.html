<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<script src="login.js"></script>
<body>

    <header>
        <button onclick="location.href= 'index.html'"
        style="border: none; background: none; cursor: pointer; font-size: 20px; user-select: none;">
            <img src="placeholder.svg" alt="BookLegacy" width="150" height="40"/>
        </button>
        <form id="search-form" class="search-form">
            <input type="text" id="search-query" placeholder="책 제목 검색" />
            <button type="submit" class="button">검색</button>
        </form>
        <div id="search-results"></div>
        <script src="search.js"></script> <!-- JavaScript 파일 연결 -->    
        <div class="flex">
            <span id= userID-display></span>
            <button id="login-logout-button" class="button outline">로그인</button>
            <button class="button outline" onclick= "window.open('upload.html', '_blank')">책 업로드</button>
            <button class="button outline" onclick= "window.location.href = 'cart.html'">장바구니</button>
            <button class="button">도움말</button>
        </div>
    </header>

    <nav>
        <ul>
            <li>베스트</li>
            <li>전공서적</li>
            <li>교양서적</li>
            <li>참고서적</li>
            <li>일반서적</li>
        </ul>
        <script>
            const bookListButtons = document.querySelectorAll("nav ul li");

            bookListButtons.forEach((i) => {
                i.onclick = () => {
                    window.location.href = 'uploaded-book-list.html';
                };
            });
        </script>
    </nav>

    <main>

        <div class="flex">

            <div class="login-container" style="flex: 1;">

                <h2>로그인</h2>

                <form id = "login-form">
                    <label>
                        <span>학번</span>
                        <input id="stdnum" placeholder="학번" />
                    </label>

                    <label>
                        <span>아이디</span>
                        <input id="userID" placeholder="아이디" />
                    </label>

                    <label> 
                        <span>비밀번호</span>
                        <input id="password" type="password" placeholder="비밀번호" />
                    </label>

                    <button type="submit" class="button">로그인</button>
                    <button type="button" class="button outline" id="register">회원 가입</button>

                </form>

            </div>
            

            <div class="search-container" style="flex: 1;">

                <h2>책 검색</h2>

                <form>
                    <label>
                        <span>저자</span>
                        <input id="author" placeholder="글쓴이 입력" />
                    </label>

                    <label>
                        <span>타이틀</span>
                        <input id="title" placeholder="제목 입력" />
                    </label>

                    <label>
                        <span>학과, 학부</span>
                        <input id="department" placeholder="학과, 학부 입력" />
                    </label>

                    <button type="submit" class="button">검색</button>

                </form>
            </div>

            <div class="relative" style="flex: 1.5; position: relative;">

                <div class="placeholder">
                    <span class="placeholder-icon">📚</span>
                </div>

                <div class="slider-controls">
                    <button onclick="prevSlide()">◀</button>
                    <button onclick="nextSlide()">▶</button>
                </div>

                <div class="slider-content">

                    <div class="slide" id="s1">
                        <h2>인문대학</h2>
                        <p>인문학부, 영어영문학과, 중국학과, 일본학과,
                            러시아학과, 인문콘텐츠융합전공</p>
                    </div>

                    <div class="slide" id="s2" style="display: none;">
                        <h2>사회과학대학</h2>
                        <p>심리학과, 사회학과, 사회복지학부, 정치행정학과,
                            광고홍보학과, 법학과, 경제학과, 청소년학</p>
                    </div>

                    <div class="slide" id="s3" style="display: none;">
                        <h2>경영대학</h2>
                        <p>경영학과, 금융재무학과, 스타트업비즈니스(융합)전공</p>
                    </div>

                    <div class="slide" id="s4" style="display: none;">
                        <h2>자연과학대학</h2>
                        <p>화학과, 생명과학과, 바이오메디컬학과, 식품영양학과,
                            환경생명공학과, 언어청각학부, 체육학과, 바이오헬스케어융합전공</p>
                    </div>
                    
                    <div class="slide" id="s5" style="display: none;">
                        <h2>의과대학</h2>
                        <p>의예·의학과</p>
                    </div>

                    <div class="slide" id="s6" style="display: none;">
                        <h2>간호대학</h2>
                        <p>간호학과</p>
                    </div>

                    <div class="slide" id="s7" style="display: none;">
                        <h2>글로벌융합대학</h2>
                        <p>글로벌학부, 융합과학수사학과, 융합인재학부,
                            기후변화융합전공, MICE기획경영전공</p>
                    </div>
                    
                    <div class="slide" id="s8" style="display: none;">
                        <h2>미디어스쿨</h2>
                        <p>언론방송융합미디어전공, 디지털미디어콘텐츠전공</p>
                    </div>

                    <div class="slide" id="s9" style="display: none;">
                        <h2>반도체·디스플레이스쿨</h2>
                        <p>반도체전공, 디스플레이전공</p>
                    </div>

                    <div class="slide" id="s10" style="display: none;">
                        <h2>정보과학대학</h2>
                        <p>소프트웨어학부, 인공지능융합학부, 데이터사이언스학부</p>
                    </div>

                    <div class="slide" id="s11" style="display: none;">
                        <h2>미래융합스쿨</h2>
                        <p>디지털인문예술전공, 글로벌협력전공, 융합관광경영전공, 의약신소재전공,
                            융합신소재공학전공, 마케팅커뮤니케이션테크놀로지융합전공,
                            인터랙션디자인전공, 공공인재융합전공</p>
                    </div>

                    <div class="slide" id="s12" style="display: none;">
                        <h2>산학협력특성화대학</h2>
                        <p>지능형IoT전공, 사회혁신경영전공, 건강돌봄디자인전공</p>
                    </div>

                    <button type="button" class="button outline" onclick= "window.location.href = 'uploaded-book-list.html'">목록 보기 →</button>

                </div>
            </div>

            <script>

                let currentSlide = 0;
                const slides = document.querySelectorAll('.slide');

                function showSlide(index) {
                    slides.forEach((slide, i) => {
                        slide.style.display = (i === index) ? 'block' : 'none';
                    });
                }

                function nextSlide() {
                    currentSlide = (currentSlide + 1) % slides.length;
                    showSlide(currentSlide);
                }

                function prevSlide() {
                    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                    showSlide(currentSlide);
                }

                showSlide(currentSlide);

            </script>  

        </div>
 
        <div class="promo">

            <h2>0000원 미만의 저렴한 책</h2>

            <p>조금 더 저렴한 거래를 선호하신다면, 이곳이 바로 당신을 위한 곳입니다. 망설이면 품절! 오늘의 특가!</p>

            <button class="button outline" onclick= "window.location.href = 'uploaded-book-list.html'">거래하기 →</button>

        </div>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                document.getElementById('search-form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    const query = document.getElementById('search-query').value.trim();
                    if (query) {
                        window.location.href = `book-list.html?query=${encodeURIComponent(query)}`;
                    } else {
                        alert('검색어를 입력하세요.');
                    }
                });
        
                document.querySelector('.search-container').addEventListener('submit', (e) => {
                    e.preventDefault();

                    const author = document.getElementById('author').value.trim();
                    const title = document.getElementById('title').value.trim();
                    let query = '';
                    if (author) query = `${author}`;
                    if (title) query = `${title}`;
                    query = query.trim();
        
                    if (query) {
                        window.location.href = `book-list.html?query=${encodeURIComponent(query)}`;
                    } else {
                        alert('검색어를 입력하세요.');
                    }
                });
            });
        </script> 
    </main>
</body>
</html>